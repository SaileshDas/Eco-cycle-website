{% extends 'base.html' %}
{% load static %} {# Keep this if you plan to use static files like images in this specific template later #}

{% block title %}Submit Your Eco-Upcycling Request{% endblock %}

{% block extra_head %}
<style>
    /* Basic styling for demonstration, replace with your actual CSS */
    .form-container { max-width: 600px; margin: auto; padding: 20px; border: 1px solid #ccc; border-radius: 8px; }
    .form-field p { margin-bottom: 10px; }
    .form-field label { display: block; margin-bottom: 5px; font-weight: bold; }
    .form-field input[type="text"], .form-field textarea, .form-field input[type="number"], .form-field select {
        width: calc(100% - 12px); padding: 8px; border: 1px solid #ddd; border-radius: 4px;
    }
    .form-field textarea { resize: vertical; }
    button[type="submit"] {
        background-color: #4CAF50;
        color: white;
        padding: 10px 15px;
        border: none;
        border-radius: 4px;
        cursor: pointer;
        margin-top: 15px; /* Added margin-top for spacing */
    }
    button[type="submit"]:hover { background-color: #45a049; }
    .errorlist { color: red; list-style-type: none; padding: 0; margin: 0; }
</style>
{% endblock %}

{% block content %}
    <div class="form-container">
        <h1>Submit Your Eco-Upcycling Request</h1>

        {# Messages are now handled by base.html, so removed from here #}

        <form method="post" enctype="multipart/form-data">
            {% csrf_token %} 
            
            <div class="form-field">
                {{ form.item_image.label_tag }}
                {{ form.item_image }}
                {% if form.item_image.errors %}
                    <ul class="errorlist">
                        {% for error in form.item_image.errors %}
                            <li>{{ error }}</li>
                        {% endfor %}
                    </ul>
                {% endif %}
            </div>

            <div class="form-field">
                {{ form.product_type.label_tag }}
                {{ form.product_type }}
                {% if form.product_type.errors %}
                    <ul class="errorlist">
                        {% for error in form.product_type.errors %}
                            <li>{{ error }}</li>
                        {% endfor %}
                    </ul>
                {% endif %}
            </div>

            <div class="form-field">
                {{ form.material_details.label_tag }}
                {{ form.material_details }}
                {% if form.material_details.errors %}
                    <ul class="errorlist">
                        {% for error in form.material_details.errors %}
                            <li>{{ error }}</li>
                        {% endfor %}
                    </ul>
                {% endif %}
            </div>

            <div class="form-field">
                {{ form.style_preference.label_tag }}
                {{ form.style_preference }}
                {% if form.style_preference.errors %}
                    <ul class="errorlist">
                        {% for error in form.style_preference.errors %}
                            <li>{{ error }}</li>
                        {% endfor %}
                    </ul>
                {% endif %}
            </div>

            <div class="form-field">
                {{ form.pickup_location.label_tag }}
                {{ form.pickup_location }}
                {% if form.pickup_location.errors %}
                    <ul class="errorlist">
                        {% for error in form.pickup_location.errors %}
                            <li>{{ error }}</li>
                        {% endfor %}
                    </ul>
                {% endif %}
            </div>

            <div class="form-field">
                {{ form.budget.label_tag }}
                {{ form.budget }}
                {% if form.budget.errors %}
                    <ul class="errorlist">
                        {% for error in form.budget.errors %}
                            <li>{{ error }}</li>
                        {% endfor %}
                    </ul>
                {% endif %}
            </div>

            <button type="submit">Submit Request</button>
        </form>

        <p><a href="{% url 'home' %}">Back to Home</a></p>
    </div>
{% endblock %}